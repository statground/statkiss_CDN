(function(){'use strict';const LANG_KEY='statkiss_lang';const languages=[{code:'en',label:'English'},{code:'ko',label:'한국어'},{code:'ja',label:'日本語'},{code:'zh-Hans',label:'中文(简体)'},{code:'zh-Hant',label:'中文(繁體)'},{code:'es',label:'Español'},{code:'fr',label:'Français'},{code:'de',label:'Deutsch'},{code:'pt-BR',label:'Português (Brasil)'},{code:'ru',label:'Русский'},{code:'id',label:'Bahasa Indonesia'},{code:'vi',label:'Tiếng Việt'},{code:'th',label:'ไทย'},{code:'ms',label:'Bahasa Melayu'},{code:'fil',label:'Filipino'},{code:'hi',label:'हिन्दी'},{code:'ar',label:'العربية'},{code:'it',label:'Italiano'},{code:'nl',label:'Nederlands'},{code:'pl',label:'Polski'},{code:'sv',label:'Svenska'},{code:'tr',label:'Türkçe'},{code:'uk',label:'Українska'}];const UI_KEYS=['header.about','header.announcement','header.publications','header.awards','header.forums','header.membership','header.close','header.menu','header.nav_caption','auth.login','auth.signup','auth.logout','auth.admin','auth.membership','lang.title','lang.open','theme.toggle','nav.about_us','nav.officers','nav.constitution','nav.bylaws','nav.kiss_event','nav.member_news','nav.advertisement','nav.job_ads','nav.journals','nav.newsletter','nav.career_award','nav.student_award','nav.facebook_group','nav.useful_links','nav.join_renew','nav.donation'];const dict={ko:{'header.about':'학회소개','header.announcement':'공지사항','header.publications':'출판물','header.awards':'시상','header.forums':'포럼','header.membership':'멤버십','header.close':'닫기','header.menu':'메뉴','header.nav_caption':'StatKISS navigation','auth.login':'로그인','auth.signup':'회원가입','auth.logout':'로그아웃','auth.admin':'관리자','auth.membership':'멤버십','lang.title':'언어 선택','lang.open':'언어','theme.toggle':'테마 전환','nav.about_us':'학회 안내','nav.officers':'임원진/이사회','nav.constitution':'정관','nav.bylaws':'세칙','nav.kiss_event':'학회 행사','nav.member_news':'회원 소식','nav.advertisement':'광고','nav.job_ads':'채용 공고','nav.journals':'저널','nav.newsletter':'뉴스레터','nav.career_award':'커리어 개발상','nav.student_award':'우수 학생 논문상','nav.facebook_group':'페이스북 그룹','nav.useful_links':'유용한 링크','nav.join_renew':'가입/갱신','nav.donation':'후원'},en:{'header.about':'About KISS','header.announcement':'Announcement','header.publications':'Publications','header.awards':'Awards','header.forums':'Forums','header.membership':'Membership','header.close':'Close','header.menu':'Menu','header.nav_caption':'StatKISS navigation','auth.login':'Login','auth.signup':'Sign Up','auth.logout':'Logout','auth.admin':'Admin Page','auth.membership':'Membership','lang.title':'Language','lang.open':'Language','theme.toggle':'Toggle theme','nav.about_us':'About Us','nav.officers':'Officers/Board','nav.constitution':'Constitution','nav.bylaws':'By Laws','nav.kiss_event':'KISS Event','nav.member_news':'Member News','nav.advertisement':'Advertisement','nav.job_ads':'Job Related Ads.','nav.journals':'Journals','nav.newsletter':'Newsletter','nav.career_award':'Career Development Award','nav.student_award':'Outstanding Student Paper Award','nav.facebook_group':'Facebook Group','nav.useful_links':'Useful Links','nav.join_renew':'Join / Renew','nav.donation':'Donation'}};function t(lang,key){const d=dict[lang]||{};const en=dict.en||{};const ko=dict.ko||{};return(d[key]!=null&&d[key]!=='')?d[key]:(en[key]!=null&&en[key]!=='')?en[key]:(ko[key]!=null&&ko[key]!=='')?ko[key]:key;}function isRTL(lang){return lang==='ar';}function resolveLangCode(code){if(!code)return'en';const c=String(code).trim();if(c==='zh'||c.toLowerCase().startsWith('zh-')){const lower=c.toLowerCase();if(lower.includes('tw')||lower.includes('hk')||lower.includes('mo')||lower.includes('hant'))return'zh-Hant';return'zh-Hans';}if(c==='tl'||c.toLowerCase().startsWith('tl-')||c==='fil'||c.toLowerCase().startsWith('fil-'))return'fil';if(c==='pt'||c.toLowerCase().startsWith('pt-'))return'pt-BR';if(c.toLowerCase().startsWith('en-'))return'en';if(c.toLowerCase().startsWith('ja-'))return'ja';if(c.toLowerCase().startsWith('ko-'))return'ko';return c;}function normalizeCoverage(){const en=dict.en||{};const ko=dict.ko||{};languages.forEach(l=>{if(!dict[l.code])dict[l.code]={};UI_KEYS.forEach(k=>{if(dict[l.code][k]==null||dict[l.code][k]===''){dict[l.code][k]=en[k]??ko[k]??k;}});});}function getInitialLang(){const saved=localStorage.getItem(LANG_KEY);const browser=(navigator.language||'en');const initial=resolveLangCode(saved||browser);const best=languages.find(l=>l.code===initial)||languages.find(l=>initial.startsWith(l.code))||languages.find(l=>l.code.startsWith(initial.split('-')[0]))||languages[0];return best?best.code:'en';}function applyLangToDocument(lang){const root=document.documentElement;root.setAttribute('lang',lang);root.setAttribute('dir',isRTL(lang)?'rtl':'ltr');}function init(){normalizeCoverage();const lang=getInitialLang();applyLangToDocument(lang);return lang;}window.StatKISS_I18N={LANG_KEY,languages,dict,UI_KEYS,t,resolveLangCode,normalizeCoverage,isRTL,getInitialLang,applyLangToDocument,init};})();